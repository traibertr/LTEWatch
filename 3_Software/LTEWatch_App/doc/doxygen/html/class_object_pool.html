<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LTEWatch: ObjectPool&lt; T, enterCritical, exitCritical &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="LTEWatch_Logo_White_Small.png"/></td>
  <td id="projectalign">
   <div id="projectname">LTEWatch<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Master Thesis - LTE-M/NB-IoT &amp; GNSS - Smart-Watch Application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_object_pool-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ObjectPool&lt; T, enterCritical, exitCritical &gt; Class Template Reference<div class="ingroups"><a class="el" href="group___memory_pool.html">MemoryPool</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Template to generate a class that can store objects of another class either inside a dynamically allocated memory region or inside a given memory block.  
 <a href="class_object_pool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="objectpool_8hpp_source.html">objectpool.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a682c1080a35296ae221a5e8ce0656920"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_object_pool.html#a682c1080a35296ae221a5e8ce0656920">ObjectPool</a> (size_t numberOfObjectsToPreallocate, uint8_t **memory=NULL)</td></tr>
<tr class="memdesc:a682c1080a35296ae221a5e8ce0656920"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new object pool with the given number of objects preallocated either at the given memory region (the memory region pointer will be incremented by the size needed to store all data) or if the pointer to the memory pointer is NULL, the template class uses malloc to allocate memory for his content.  <a href="class_object_pool.html#a682c1080a35296ae221a5e8ce0656920">More...</a><br /></td></tr>
<tr class="separator:a682c1080a35296ae221a5e8ce0656920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c590b1cdbe95763a832543cdcddf6e"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_object_pool.html#a09c590b1cdbe95763a832543cdcddf6e">~ObjectPool</a> ()</td></tr>
<tr class="memdesc:a09c590b1cdbe95763a832543cdcddf6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the resources used by this pool in the case the memory was allocated dynamically.  <a href="class_object_pool.html#a09c590b1cdbe95763a832543cdcddf6e">More...</a><br /></td></tr>
<tr class="separator:a09c590b1cdbe95763a832543cdcddf6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed098edf6796f18b60b0c3fc93e309cb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_object_pool.html#aed098edf6796f18b60b0c3fc93e309cb">objectCount</a> () const</td></tr>
<tr class="memdesc:aed098edf6796f18b60b0c3fc93e309cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of objects that this pool contains.  <a href="class_object_pool.html#aed098edf6796f18b60b0c3fc93e309cb">More...</a><br /></td></tr>
<tr class="separator:aed098edf6796f18b60b0c3fc93e309cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a150d201c7ec0fede3fb5647f47d98a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_object_pool.html#a6a150d201c7ec0fede3fb5647f47d98a">availableObjectCount</a> () const</td></tr>
<tr class="memdesc:a6a150d201c7ec0fede3fb5647f47d98a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of objects actually available.  <a href="class_object_pool.html#a6a150d201c7ec0fede3fb5647f47d98a">More...</a><br /></td></tr>
<tr class="separator:a6a150d201c7ec0fede3fb5647f47d98a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f7d9f48d204423992f1a505c6df910"><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_object_pool.html#aa3f7d9f48d204423992f1a505c6df910">allocate</a> ()</td></tr>
<tr class="memdesc:aa3f7d9f48d204423992f1a505c6df910"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to allocate a new object from the pool and returns a pointer to that object.  <a href="class_object_pool.html#aa3f7d9f48d204423992f1a505c6df910">More...</a><br /></td></tr>
<tr class="separator:aa3f7d9f48d204423992f1a505c6df910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3529c74c291f509adf0adc356b9e988f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_object_pool.html#a3529c74c291f509adf0adc356b9e988f">retain</a> (T *object)</td></tr>
<tr class="memdesc:a3529c74c291f509adf0adc356b9e988f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the reference count variable for the given object.  <a href="class_object_pool.html#a3529c74c291f509adf0adc356b9e988f">More...</a><br /></td></tr>
<tr class="separator:a3529c74c291f509adf0adc356b9e988f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1467467f7800c4e393581161402458b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_object_pool.html#ac1467467f7800c4e393581161402458b">release</a> (T *object)</td></tr>
<tr class="memdesc:ac1467467f7800c4e393581161402458b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the reference count variable for the given object and gives it back to the pool if the reference count reaches 0.  <a href="class_object_pool.html#ac1467467f7800c4e393581161402458b">More...</a><br /></td></tr>
<tr class="separator:ac1467467f7800c4e393581161402458b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename T, void  enterCritical = objectPoolEnterCriticalDefault, void  exitCritical = objectPoolExitCriticalDefault&gt;<br />
class ObjectPool&lt; T, enterCritical, exitCritical &gt;</div><p >Template to generate a class that can store objects of another class either inside a dynamically allocated memory region or inside a given memory block. </p>
<p >Class which handles the objectpool.</p>
<p >It implements a simple reference count system that lets the objects be easily shared. Note that the reference count is manually handled.</p>
<p >Providing the appropriate enter and exit critical functions as template parameters the object pool can be made interrupt safe.</p>
<p >Initial author: Thomas Sterren Creation date: 2017-04-27</p>
<dl class="section author"><dt>Author</dt><dd>Thomas Sterren (<a href="#" onclick="location.href='mai'+'lto:'+'tho'+'ma'+'s.s'+'te'+'rre'+'n@'+'hev'+'s.'+'ch'; return false;">thoma<span class="obfuscator">.nosp@m.</span>s.st<span class="obfuscator">.nosp@m.</span>erren<span class="obfuscator">.nosp@m.</span>@hev<span class="obfuscator">.nosp@m.</span>s.ch</a>), Patrice Rudaz (<a href="#" onclick="location.href='mai'+'lto:'+'pat'+'ri'+'ce.'+'ru'+'daz'+'@h'+'evs'+'.c'+'h'; return false;">patri<span class="obfuscator">.nosp@m.</span>ce.r<span class="obfuscator">.nosp@m.</span>udaz@<span class="obfuscator">.nosp@m.</span>hevs<span class="obfuscator">.nosp@m.</span>.ch</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>March 2021 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a682c1080a35296ae221a5e8ce0656920" name="a682c1080a35296ae221a5e8ce0656920"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a682c1080a35296ae221a5e8ce0656920">&#9670;&#160;</a></span>ObjectPool()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , void  enterCritical = objectPoolEnterCriticalDefault, void  exitCritical = objectPoolExitCriticalDefault&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_object_pool.html">ObjectPool</a>&lt; T, enterCritical, exitCritical &gt;<a class="el" href="class_object_pool.html">::ObjectPool</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numberOfObjectsToPreallocate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>memory</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new object pool with the given number of objects preallocated either at the given memory region (the memory region pointer will be incremented by the size needed to store all data) or if the pointer to the memory pointer is NULL, the template class uses malloc to allocate memory for his content. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numberOfObjectsToPreallocate</td><td><a class="el" href="class_the.html" title="Our PicoEvent processing machine.">The</a> number of objects to hold </td></tr>
    <tr><td class="paramname">memory</td><td>Pointer to the memory pointer or NULL if the template should use malloc (new) to allocate memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a09c590b1cdbe95763a832543cdcddf6e" name="a09c590b1cdbe95763a832543cdcddf6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09c590b1cdbe95763a832543cdcddf6e">&#9670;&#160;</a></span>~ObjectPool()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , void  enterCritical = objectPoolEnterCriticalDefault, void  exitCritical = objectPoolExitCriticalDefault&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_object_pool.html">ObjectPool</a>&lt; T, enterCritical, exitCritical &gt;::~<a class="el" href="class_object_pool.html">ObjectPool</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the resources used by this pool in the case the memory was allocated dynamically. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa3f7d9f48d204423992f1a505c6df910" name="aa3f7d9f48d204423992f1a505c6df910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f7d9f48d204423992f1a505c6df910">&#9670;&#160;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , void  enterCritical = objectPoolEnterCriticalDefault, void  exitCritical = objectPoolExitCriticalDefault&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T * <a class="el" href="class_object_pool.html">ObjectPool</a>&lt; T, enterCritical, exitCritical &gt;::allocate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tries to allocate a new object from the pool and returns a pointer to that object. </p>
<p >If no more objects are left inside the pool, the method returns a NULL pointer.</p>
<p >This method will not call the constructor of the returned object. It is up to the caller to call the appropriate constructor of the object. Calling the constructor may be done using a <a href="http://en.wikipedia.org/wiki/Placement_syntax">placement new</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an object or NULL in the case that there are no more objects left inside the pool. </dd></dl>

</div>
</div>
<a id="a6a150d201c7ec0fede3fb5647f47d98a" name="a6a150d201c7ec0fede3fb5647f47d98a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a150d201c7ec0fede3fb5647f47d98a">&#9670;&#160;</a></span>availableObjectCount()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , void  enterCritical = objectPoolEnterCriticalDefault, void  exitCritical = objectPoolExitCriticalDefault&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="class_object_pool.html">ObjectPool</a>&lt; T, enterCritical, exitCritical &gt;::availableObjectCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of objects actually available. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of available objects in pool. </dd></dl>

</div>
</div>
<a id="aed098edf6796f18b60b0c3fc93e309cb" name="aed098edf6796f18b60b0c3fc93e309cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed098edf6796f18b60b0c3fc93e309cb">&#9670;&#160;</a></span>objectCount()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , void  enterCritical = objectPoolEnterCriticalDefault, void  exitCritical = objectPoolExitCriticalDefault&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="class_object_pool.html">ObjectPool</a>&lt; T, enterCritical, exitCritical &gt;::objectCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total number of objects that this pool contains. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of objects in pool. </dd></dl>

</div>
</div>
<a id="ac1467467f7800c4e393581161402458b" name="ac1467467f7800c4e393581161402458b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1467467f7800c4e393581161402458b">&#9670;&#160;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , void  enterCritical = objectPoolEnterCriticalDefault, void  exitCritical = objectPoolExitCriticalDefault&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_object_pool.html">ObjectPool</a>&lt; T, enterCritical, exitCritical &gt;::release </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements the reference count variable for the given object and gives it back to the pool if the reference count reaches 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to the object for which the reference count should be decremented </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Do not release the same object in the pool more than once ! </dd></dl>

</div>
</div>
<a id="a3529c74c291f509adf0adc356b9e988f" name="a3529c74c291f509adf0adc356b9e988f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3529c74c291f509adf0adc356b9e988f">&#9670;&#160;</a></span>retain()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , void  enterCritical = objectPoolEnterCriticalDefault, void  exitCritical = objectPoolExitCriticalDefault&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_object_pool.html">ObjectPool</a>&lt; T, enterCritical, exitCritical &gt;::retain </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the reference count variable for the given object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to the object for which the reference count should be incremented </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/LTEWatch/3_Software/LTEWatch_App/src/library/mdw/common/pool/<a class="el" href="objectpool_8hpp_source.html">objectpool.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
